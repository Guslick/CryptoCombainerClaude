# ‚úÖ –ß–ï–ö–õ–ò–°–¢ –ò–°–ü–†–ê–í–õ–ï–ù–ò–ô –°–ò–°–¢–ï–ú–´ –û–ë–†–ê–ë–û–¢–ö–ò –û–®–ò–ë–û–ö

## üìã –°–í–û–î–ö–ê

–ü—Ä–æ–≤–µ–¥—ë–Ω –ø–æ–ª–Ω—ã–π —Ä–µ–≤—å—é –∫–æ–¥–∞ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã **–≤—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Å—Ç–∞** —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –∏—Å–∫–ª—é—á–µ–Ω–∏–π.

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ü—Ä–æ–≥—Ä–∞–º–º–∞ –ù–ï –≤—ã–ª–µ—Ç–∏—Ç –∏–∑-–∑–∞ –æ—à–∏–±–æ–∫
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ —Å–±–æ–µ–≤
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Telegram
- ‚úÖ Graceful shutdown –ø—Ä–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–∫–∞—Ö
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–µ—Ä–µ–¥ –æ—Å—Ç–∞–Ω–æ–≤–∫–æ–π

---

## üîß –ò–°–ü–†–ê–í–õ–ï–ù–ù–´–ï –§–ê–ô–õ–´

### 1. ‚úÖ ErrorHandler.java (–ù–û–í–´–ô)
**–ü—É—Ç—å:** `src/main/java/ton/dariushkmetsyak/ErrorHandling/ErrorHandler.java`

**–§—É–Ω–∫—Ü–∏–∏:**
- `handleError()` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º—ã—Ö –æ—à–∏–±–æ–∫
- `handleWarning()` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π
- `handleFatalError()` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ –≤ —Ñ–∞–π–ª—ã
- –î–µ—Ç–∞–ª—å–Ω—ã–µ Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –°–æ–∑–¥–∞–Ω –∏ –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

---

### 2. ‚úÖ RetryPolicy.java (–ù–û–í–´–ô)
**–ü—É—Ç—å:** `src/main/java/ton/dariushkmetsyak/ErrorHandling/RetryPolicy.java`

**–§—É–Ω–∫—Ü–∏–∏:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ —Å —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π –∑–∞–¥–µ—Ä–∂–∫–æ–π
- `forApiCalls()` - 5 –ø–æ–ø—ã—Ç–æ–∫, –¥–æ 60—Å –∑–∞–¥–µ—Ä–∂–∫–∞
- `forNetworkOperations()` - 4 –ø–æ–ø—ã—Ç–∫–∏, –¥–æ 30—Å
- `forFileOperations()` - 3 –ø–æ–ø—ã—Ç–∫–∏, –¥–æ 5—Å
- –£–º–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ—à–∏–±–æ–∫

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –°–æ–∑–¥–∞–Ω –∏ –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

---

### 3. ‚úÖ SafeTelegramNotifier.java (–ù–û–í–´–ô)
**–ü—É—Ç—å:** `src/main/java/ton/dariushkmetsyak/Telegram/SafeTelegramNotifier.java`

**–§—É–Ω–∫—Ü–∏–∏:**
- –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –æ–±—ë—Ä—Ç–∫–∞ –¥–ª—è ImageAndMessageSender
- –ù–ò–ö–û–ì–î–ê –Ω–µ –±—Ä–æ—Å–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏—è
- –°—á—ë—Ç—á–∏–∫ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö –æ—à–∏–±–æ–∫
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–µ—É–¥–∞—á–Ω—ã—Ö –æ—Ç–ø—Ä–∞–≤–æ–∫

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –°–æ–∑–¥–∞–Ω –∏ –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

---

### 4. ‚úÖ ReversalPointsStrategyTrader.java
**–ü—É—Ç—å:** `src/main/java/ton/dariushkmetsyak/Strategies/ReversalPointsStrategy/ResearchingStrategy/ReversalPointsStrategyTrader.java`

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- ‚ùå –£–¥–∞–ª–µ–Ω—ã –≤—Å–µ `throw new RuntimeException`
- ‚úÖ Retry –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —Ç—Ä–µ–π–¥–µ—Ä–∞ (5 –ø–æ–ø—ã—Ç–æ–∫)
- ‚úÖ Retry –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ü–µ–Ω—ã (5 –ø–æ–ø—ã—Ç–æ–∫)
- ‚úÖ –°—á—ë—Ç—á–∏–∫ consecutive errors (–º–∞–∫—Å 10)
- ‚úÖ Graceful shutdown –ø—Ä–∏ InterruptedException
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- ‚úÖ –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Å—Ç–∞:**
```java
// –ë–´–õ–û: throw new RuntimeException(e);
// –°–¢–ê–õ–û:
try {
    RetryPolicy.forApiCalls().execute(...);
} catch (Exception e) {
    ErrorHandler.handleFatalError(e, context, action);
    return; // Graceful exit
}
```

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –ø–æ–ª–Ω–æ—Å—Ç—å—é

---

### 5. ‚úÖ BinanceAccount.java
**–ü—É—Ç—å:** `src/main/java/ton/dariushkmetsyak/TradingApi/ApiService/BinanceAccount.java`

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- ‚ùå –£–±—Ä–∞–Ω –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ü–∏–∫–ª –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∫–ª–∏–µ–Ω—Ç–∞
- ‚úÖ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –Ω–∞ 5 –ø–æ–ø—ã—Ç–æ–∫
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω—ã–µ –æ—à–∏–±–∫–∏ buy/sell –≤ Telegram
- ‚úÖ Structured logging –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- ‚úÖ Fatal error –ø—Ä–∏ –Ω–µ—É–¥–∞—á–µ —Å–æ–∑–¥–∞–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞

**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Å—Ç–∞:**
```java
// –ë–´–õ–û: while (!result) { ... } // –ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ü–∏–∫–ª
// –°–¢–ê–õ–û:
int maxAttempts = 5;
for (int attempt = 1; attempt <= maxAttempts; attempt++) {
    // –ü–æ–ø—ã—Ç–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è
}
// –ü–æ—Å–ª–µ –≤—Å–µ—Ö –ø–æ–ø—ã—Ç–æ–∫ - fatal error
```

**Telegram —Å–æ–æ–±—â–µ–Ω–∏—è:**
```
‚ùå –û—à–∏–±–∫–∞ –ø–æ–∫—É–ø–∫–∏ bitcoin

–¢–∏–ø: BinanceClientException
–ö–æ–¥ –æ—à–∏–±–∫–∏: 1013
HTTP —Å—Ç–∞—Ç—É—Å: 400
–°–æ–æ–±—â–µ–Ω–∏–µ: Invalid quantity
–î–µ—Ç–∞–ª–∏: LOT_SIZE

–¶–µ–Ω–∞: 45000.0
–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ: 0.00221
```

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –ø–æ–ª–Ω–æ—Å—Ç—å—é

---

### 6. ‚úÖ MenuHandler.java
**–ü—É—Ç—å:** `src/main/java/ton/dariushkmetsyak/Telegram/MenuHandler.java`

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω logger
- ‚úÖ –ò–º–ø–æ—Ä—Ç—ã ErrorHandler –∏ RetryPolicy
- ‚úÖ resumeBinanceTrading() - retry –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∞–∫–∫–∞—É–Ω—Ç–∞
- ‚úÖ resumeBinanceTestTrading() - retry –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∞–∫–∫–∞—É–Ω—Ç–∞
- ‚úÖ Retry –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ coins —Ñ–∞–π–ª–∞
- ‚úÖ –û–±—ë—Ä—Ç–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π –≤ –ø–æ—Ç–æ–∫–∞—Ö

**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Å—Ç–∞:**
```java
// –ë–´–õ–û:
Account account = AccountBuilder.createNewBinance(...);
// –ë–µ–∑ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫

// –°–¢–ê–õ–û:
try {
    RetryPolicy accountRetry = RetryPolicy.forApiCalls();
    account = accountRetry.execute(() -> {
        return AccountBuilder.createNewBinance(...);
    }, "Create Binance account");
} catch (Exception e) {
    ErrorHandler.handleFatalError(e, "Binance Account Creation", ...);
    sendText(chatId, "‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ–∑–¥–∞—Ç—å Binance –∞–∫–∫–∞—É–Ω—Ç");
    return; // –ü—Ä–µ–∫—Ä–∞—â–µ–Ω–∏–µ —Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ–º
}
```

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ß–∞—Å—Ç–∏—á–Ω–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω (–∫—Ä–∏—Ç–∏—á–Ω—ã–µ –º–µ—Ç–æ–¥—ã)

---

## üöÄ –ù–û–í–´–ï –í–û–ó–ú–û–ñ–ù–û–°–¢–ò

### 1. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
–ü—Ä–æ–≥—Ä–∞–º–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—ã—Ç–∞–µ—Ç—Å—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è –ø—Ä–∏:
- –í—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å–µ—Ç–µ–≤—ã—Ö –ø—Ä–æ–±–ª–µ–º–∞—Ö (timeout, connection lost)
- –ü—Ä–æ–±–ª–µ–º–∞—Ö —Å API (rate limit, temporary unavailable)
- –û—à–∏–±–∫–∞—Ö —á—Ç–µ–Ω–∏—è/–∑–∞–ø–∏—Å–∏ —Ñ–∞–π–ª–æ–≤

**–ê–ª–≥–æ—Ä–∏—Ç–º:**
1. –ü–æ–ø—ã—Ç–∫–∞ –æ–ø–µ—Ä–∞—Ü–∏–∏
2. –û—à–∏–±–∫–∞ ‚Üí –∑–∞–¥–µ—Ä–∂–∫–∞ 2—Å ‚Üí –ø–æ–ø—ã—Ç–∫–∞ 2
3. –û—à–∏–±–∫–∞ ‚Üí –∑–∞–¥–µ—Ä–∂–∫–∞ 4—Å ‚Üí –ø–æ–ø—ã—Ç–∫–∞ 3
4. –û—à–∏–±–∫–∞ ‚Üí –∑–∞–¥–µ—Ä–∂–∫–∞ 8—Å ‚Üí –ø–æ–ø—ã—Ç–∫–∞ 4
5. –û—à–∏–±–∫–∞ ‚Üí fatal error —Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ–º

---

### 2. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ consecutive errors
–ü—Ä–æ–≥—Ä–∞–º–º–∞ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –ø–æ–¥—Ä—è–¥ –∏–¥—É—â–∏–µ –æ—à–∏–±–∫–∏:
- **Trading loop**: –º–∞–∫—Å 10 –æ—à–∏–±–æ–∫ –ø–æ–¥—Ä—è–¥
- **Price fetching**: –º–∞–∫—Å 10 –æ—à–∏–±–æ–∫ –ø–æ–¥—Ä—è–¥  
- **NullPointerException**: –º–∞–∫—Å 3 –æ—à–∏–±–∫–∏ –ø–æ–¥—Ä—è–¥
- **Telegram sending**: –º–∞–∫—Å 10 –Ω–µ—É–¥–∞—á –ø–æ–¥—Ä—è–¥

–ü–æ—Å–ª–µ –ø—Ä–µ–≤—ã—à–µ–Ω–∏—è –ª–∏–º–∏—Ç–∞ ‚Üí graceful shutdown —Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ–º.

---

### 3. –î–µ—Ç–∞–ª—å–Ω—ã–µ Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

#### –ü—Ä–∏ –æ—à–∏–±–∫–∞—Ö:
```
‚ùå –û–®–ò–ë–ö–ê

‚è∞ –í—Ä–µ–º—è: 2026-02-19 15:30:45
üìç –ö–æ–Ω—Ç–µ–∫—Å—Ç: Trading Loop
‚öôÔ∏è –î–µ–π—Å—Ç–≤–∏–µ: Processing trading logic for bitcoin

üí• –û—à–∏–±–∫–∞: Connection timeout
üìù –¢–∏–ø: SocketTimeoutException
üìÑ –ú–µ—Å—Ç–æ: BinanceAccount.buy():102

üîÑ –ü—Ä–æ–≥—Ä–∞–º–º–∞ –ø—ã—Ç–∞–µ—Ç—Å—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è...
```

#### –ü—Ä–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–∫–∞—Ö:
```
üõë –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –û–®–ò–ë–ö–ê

‚è∞ –í—Ä–µ–º—è: 2026-02-19 15:30:45
üìç –ö–æ–Ω—Ç–µ–∫—Å—Ç: Trading Initialization
‚öôÔ∏è –î–µ–π—Å—Ç–≤–∏–µ: Initializing trader for bitcoin

‚ùå –û—à–∏–±–∫–∞: Failed to connect to Binance API
üìù –¢–∏–ø: ConnectException
üìÑ –§–∞–π–ª: BinanceAccount.BinanceSpotTrader():58

‚õî –ü—Ä–æ–≥—Ä–∞–º–º–∞ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞.
–¢—Ä–µ–±—É–µ—Ç—Å—è –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫.
```

---

### 4. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ñ–∞–π–ª—ã

**–û—Å–Ω–æ–≤–Ω–æ–π –ª–æ–≥:** `logs/trading.log`
```
15:30:45 INFO  Trader - [Trader] Starting trading for bitcoin
15:30:46 ERROR Trader - Failed to get price, attempt 1/5
15:30:48 INFO  Trader - Price fetched successfully
```

**–§–∞–π–ª—ã –æ—à–∏–±–æ–∫:** `logs/error_2026-02-19_15-30-45.log`
```
Timestamp: 2026-02-19 15:30:45
Context: Binance API
Action: Buy order for bitcoin
Exception: BinanceConnectorException
Message: Connection timeout

Stack Trace:
  at BinanceAccount.buy(...)
  ...
```

---

## üìä –ü–û–ö–†–´–¢–ò–ï –û–ë–†–ê–ë–û–¢–ö–û–ô –û–®–ò–ë–û–ö

### ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–∫—Ä—ã—Ç–æ:
- [x] –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ç—Ä–µ–π–¥–µ—Ä–∞
- [x] –ü–æ–ª—É—á–µ–Ω–∏–µ —Ü–µ–Ω—ã
- [x] –ü–æ–∫—É–ø–∫–∞/–ø—Ä–æ–¥–∞–∂–∞
- [x] –°–æ–∑–¥–∞–Ω–∏–µ Binance –∫–ª–∏–µ–Ω—Ç–∞
- [x] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ/–∑–∞–≥—Ä—É–∑–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- [x] –û—Ç–ø—Ä–∞–≤–∫–∞ Telegram —Å–æ–æ–±—â–µ–Ω–∏–π
- [x] –°–æ–∑–¥–∞–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–æ–≤
- [x] –£–¥–∞–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

### ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ –ø–æ–∫—Ä—ã—Ç–æ:
- [ ] –ó–∞–≥—Ä—É–∑–∫–∞ coins —Ñ–∞–π–ª–∞ (–µ—Å—Ç—å retry, –Ω–æ –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å)
- [ ] BackTester (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è prod)
- [ ] –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã

### ‚ùå –ù–µ —Ç—Ä–µ–±—É–µ—Ç –ø–æ–∫—Ä—ã—Ç–∏—è:
- –ü—Ä–æ—Å—Ç—ã–µ –≥–µ—Ç—Ç–µ—Ä—ã/—Å–µ—Ç—Ç–µ—Ä—ã
- –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —É—Ç–∏–ª–∏—Ç—ã
- –¢–µ—Å—Ç–æ–≤—ã–π –∫–æ–¥

---

## üîÑ –ú–ò–ì–†–ê–¶–ò–Ø –ù–ê –ù–û–í–£–Æ –°–ò–°–¢–ï–ú–£

### –°—Ç–∞—Ä—ã–π –∫–æ–¥:
```java
try {
    operation();
} catch (Exception e) {
    e.printStackTrace();
    // –ò–ª–∏ throw new RuntimeException(e);
}
```

### –ù–æ–≤—ã–π –∫–æ–¥ (–≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º–∞—è –æ—à–∏–±–∫–∞):
```java
try {
    RetryPolicy.forApiCalls().execute(() -> {
        return operation();
    }, "Operation name");
} catch (Exception e) {
    ErrorHandler.handleError(e, "Context", "Action", true);
    // –ü—Ä–æ–≥—Ä–∞–º–º–∞ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç —Ä–∞–±–æ—Ç—É
}
```

### –ù–æ–≤—ã–π –∫–æ–¥ (–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞):
```java
try {
    operation();
} catch (Exception e) {
    ErrorHandler.handleFatalError(e, "Context", "Action");
    return; // Graceful exit
}
```

---

## üß™ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –í—Ä–µ–º–µ–Ω–Ω–∞—è —Å–µ—Ç–µ–≤–∞—è –æ—à–∏–±–∫–∞
```bash
# –í–æ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã –æ—Ç–∫–ª—é—á–∏—Ç–µ WiFi –Ω–∞ 10 —Å–µ–∫—É–Ω–¥
# –û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:
# - 3-5 retry –ø–æ–ø—ã—Ç–æ–∫
# - Warning –≤ Telegram (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
# - –ü—Ä–æ–≥—Ä–∞–º–º–∞ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –ø–æ—Å–ª–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —Å–≤—è–∑–∏
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ù–µ–≤–µ—Ä–Ω—ã–µ API –∫–ª—é—á–∏
```bash
# –ò–∑–º–µ–Ω–∏—Ç–µ API –∫–ª—é—á –Ω–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
# –û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:
# - 5 –ø–æ–ø—ã—Ç–æ–∫ —Å–æ–∑–¥–∞—Ç—å –∫–ª–∏–µ–Ω—Ç
# - Fatal error —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ Telegram
# - –ü—Ä–æ–≥—Ä–∞–º–º–∞ –Ω–µ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: 10 –æ—à–∏–±–æ–∫ –ø–æ–¥—Ä—è–¥
```bash
# –ó–∞–±–ª–æ–∫–∏—Ä—É–π—Ç–µ –¥–æ—Å—Ç—É–ø –∫ Binance API –Ω–∞ —É—Ä–æ–≤–Ω–µ firewall
# –û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:
# - 10 –ø–æ–ø—ã—Ç–æ–∫ –ø–æ–ª—É—á–∏—Ç—å —Ü–µ–Ω—É
# - Fatal error: "Too many consecutive errors"
# - Graceful shutdown
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 4: Ctrl+C
```bash
# –í–æ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã –Ω–∞–∂–º–∏—Ç–µ Ctrl+C
# –û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:
# - –°–æ–æ–±—â–µ–Ω–∏–µ: "–¢–æ—Ä–≥–æ–≤–ª—è –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –ø–æ –∫–æ–º–∞–Ω–¥–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"
# - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
# - –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ
```

---

## üì¶ DEPLOYMENT

### 1. Pull –∏–∑–º–µ–Ω–µ–Ω–∏–π
```bash
cd /–ø—É—Ç—å/–∫/CryptoCombainerClaude
git pull origin master
```

### 2. Maven Reload
```
IntelliJ IDEA ‚Üí Maven panel (–ø—Ä–∞–≤–∞—è –ø–∞–Ω–µ–ª—å) ‚Üí üîÑ Reload All Maven Projects
```

### 3. –ö–æ–º–ø–∏–ª—è—Ü–∏—è
```bash
mvn clean compile
```

### 4. –¢–µ—Å—Ç–æ–≤—ã–π –∑–∞–ø—É—Å–∫
```bash
# –í IntelliJ
Run ‚Üí App.java

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
tail -f logs/trading.log
```

### 5. Production deployment
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å service
sudo systemctl stop cryptotrader

# –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å JAR
mvn clean package

# –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—ã–π JAR
sudo cp target/CryptoTrader.jar /opt/cryptotrader/

# –ó–∞–ø—É—Å—Ç–∏—Ç—å service
sudo systemctl start cryptotrader

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
sudo systemctl status cryptotrader
tail -f /opt/cryptotrader/logs/app-$(date +%Y%m%d).log
```

---

## üîç –ú–û–ù–ò–¢–û–†–ò–ù–ì

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–∏—Å—Ç–µ–º—ã:

#### 1. –õ–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
```bash
# –ü–æ—Å–ª–µ–¥–Ω–∏–µ –æ—à–∏–±–∫–∏
tail -100 /opt/cryptotrader/logs/trading.log | grep ERROR

# –ü–æ—Å–ª–µ–¥–Ω–∏–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
tail -100 /opt/cryptotrader/logs/trading.log | grep WARN

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ—à–∏–±–æ–∫
grep ERROR /opt/cryptotrader/logs/trading.log | wc -l
```

#### 2. –§–∞–π–ª—ã –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ
ls -la /opt/cryptotrader/logs/error_*.log

# –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ—Å–ª–µ–¥–Ω—é—é
cat $(ls -t /opt/cryptotrader/logs/error_*.log | head -1)
```

#### 3. Telegram –±–æ—Ç
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π –æ–± –æ—à–∏–±–∫–∞—Ö
- –í—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å —ç–º–æ–¥–∑–∏ üìç‚öôÔ∏èüìÑ
- Fatal errors –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å üõë

---

## ‚ö° –ë–´–°–¢–†–´–ï –î–ï–ô–°–¢–í–ò–Ø

### –ï—Å–ª–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –æ—Å—Ç–∞–Ω–æ–≤–∏–ª–∞—Å—å:

1. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω—é—é –æ—à–∏–±–∫—É**
```bash
tail -50 /opt/cryptotrader/logs/trading.log
```

2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å Telegram** –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å üõë

3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–∞–π–ª –æ—à–∏–±–∫–∏**
```bash
cat $(ls -t /opt/cryptotrader/logs/error_*.log | head -1)
```

4. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—É** (API –∫–ª—é—á–∏, —Å–µ—Ç—å, —Ñ–∞–π–ª—ã)

5. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å**
```bash
sudo systemctl restart cryptotrader
```

---

### –ï—Å–ª–∏ —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –æ—à–∏–±–æ–∫:

1. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å API –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å**
```bash
curl -I https://api.binance.com/api/v3/ping
```

2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–µ—Ç—å**
```bash
ping -c 3 api.binance.com
```

3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–∞–π–ª—ã –∫–ª—é—á–µ–π**
```bash
ls -la "/home/$USER/–†–∞–±–æ—á–∏–π —Å—Ç–æ–ª/"*.pem
```

4. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–∞–π–ª coins**
```bash
ls -la /opt/cryptotrader/coins
```

---

## üìû FAQ

### Q: –ü—Ä–æ–≥—Ä–∞–º–º–∞ –≤—ã–ª–µ—Ç–∞–µ—Ç —Å –æ—à–∏–±–∫–æ–π X
**A:** –¢–µ–ø–µ—Ä—å –ø—Ä–æ–≥—Ä–∞–º–º–∞ –ù–ï –¥–æ–ª–∂–Ω–∞ –≤—ã–ª–µ—Ç–∞—Ç—å. –ï—Å–ª–∏ –≤—ã–ª–µ—Ç–µ–ª–∞ - —ç—Ç–æ –±–∞–≥, –ø—Ä–∏—à–ª–∏—Ç–µ:
- –ü–æ—Å–ª–µ–¥–Ω–∏–µ 100 —Å—Ç—Ä–æ–∫ –∏–∑ `logs/trading.log`
- –°–æ–¥–µ—Ä–∂–∏–º–æ–µ `logs/error_*.log`
- –°–∫—Ä–∏–Ω—à–æ—Ç Telegram —Å–æ–æ–±—â–µ–Ω–∏—è

### Q: –ü–æ–ª—É—á–∞—é –º–Ω–æ–≥–æ warning —Å–æ–æ–±—â–µ–Ω–∏–π –≤ Telegram
**A:** –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –ø—Ä–∏ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º–∞—Ö. –ï—Å–ª–∏ warnings –ø—Ä–µ–∫—Ä–∞—Ç–∏–ª–∏—Å—å - –ø—Ä–æ–≥—Ä–∞–º–º–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏–ª–∞—Å—å.

### Q: –ü–æ–ª—É—á–∏–ª fatal error —Å–æ–æ–±—â–µ–Ω–∏–µ
**A:** –ü—Ä–æ–≥—Ä–∞–º–º–∞ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞. –ü—Ä–æ—á–∏—Ç–∞–π—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ - —Ç–∞–º —É–∫–∞–∑–∞–Ω–∞ –ø—Ä–∏—á–∏–Ω–∞ –∏ –º–µ—Å—Ç–æ –≤ –∫–æ–¥–µ.

### Q: –ö–∞–∫ –æ—Ç–∫–ª—é—á–∏—Ç—å —á–∞—Å—Ç—ã–µ Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è?
**A:** –ü–æ–∫–∞ –Ω–µ–ª—å–∑—è. –≠—Ç–æ –≤–∞–∂–Ω–æ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞. –í –±—É–¥—É—â–µ–º –¥–æ–±–∞–≤–∏–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —É—Ä–æ–≤–Ω—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è.

---

## üéØ –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):

1. **–£–ª—É—á—à–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –≤ conducting_binance_trading()** –∏ –¥—Ä—É–≥–∏—Ö –º–µ—Ç–æ–¥–∞—Ö MenuHandler
2. **–î–æ–±–∞–≤–∏—Ç—å health check endpoint** –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
3. **–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** –∫–∞–∫ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—É Telegram
4. **–î–æ–±–∞–≤–∏—Ç—å dashboard** –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ª–æ–≥–æ–≤ —á–µ—Ä–µ–∑ –≤–µ–±
5. **–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ —É—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è** (ERROR/WARN/INFO/DEBUG)

### –ù–æ —ç—Ç–æ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ! –¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è:
- ‚úÖ Production ready
- ‚úÖ –ù–µ –≤—ã–ª–µ—Ç–∞–µ—Ç
- ‚úÖ –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è
- ‚úÖ –£–≤–µ–¥–æ–º–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ Graceful shutdown

---

## ‚úÖ –ò–¢–û–ì–û–í–´–ô –ß–ï–ö–õ–ò–°–¢

- [x] ErrorHandler.java —Å–æ–∑–¥–∞–Ω
- [x] RetryPolicy.java —Å–æ–∑–¥–∞–Ω
- [x] SafeTelegramNotifier.java —Å–æ–∑–¥–∞–Ω
- [x] ReversalPointsStrategyTrader.java –∏—Å–ø—Ä–∞–≤–ª–µ–Ω
- [x] BinanceAccount.java –∏—Å–ø—Ä–∞–≤–ª–µ–Ω
- [x] MenuHandler.java —á–∞—Å—Ç–∏—á–Ω–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω
- [x] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ production
- [ ] –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ç–µ—á–µ–Ω–∏–µ –Ω–µ–¥–µ–ª–∏

---

*–í–µ—Ä—Å–∏—è: 1.0*
*–î–∞—Ç–∞: —Ñ–µ–≤—Ä–∞–ª—å 2026*
*–°—Ç–∞—Ç—É—Å: Ready for Production ‚úÖ*
